<mat-form-field subscriptSizing="dynamic">
  <mat-label *ngIf="label">{{ label }}</mat-label>
  <app-icon *ngIf="iconPrefix" matIconPrefix [icon]="iconPrefix"/>
  <input matInput
         [ngModel]="value"
         (ngModelChange)="_onChange($event)"
         [required]="required"
         [placeholder]="placeholder ?? ''"
  />

  @if (deleteBtnSuffix) {
    <app-icon class="delete-btn" matSuffix [icon]="'delete'" (click)="delete.next($event)" matTooltip="Supprimer" />
  }

  @if (autocomplete) {
    <input matInput
           [ngModel]="value"
           (ngModelChange)="_onChange($event)"
           [required]="required"
           [placeholder]="placeholder ?? ''"
           [matAutocomplete]="auto"
    />

    <mat-autocomplete #auto="matAutocomplete">
      @if (autocomplete.loading) {
        <mat-option *ngFor="let option of autocomplete.options" [value]="option">{{ option }}</mat-option>
      }
    </mat-autocomplete>
  }
</mat-form-field>
